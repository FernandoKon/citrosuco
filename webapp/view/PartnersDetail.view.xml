<mvc:View
    controllerName="com.lab2dev.citrosuco.controller.PartnersDetail"
	height="100%"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    xmlns="sap.m"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
	xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:smartForm="sap.ui.comp.smartform"
	xmlns:smartField="sap.ui.comp.smartfield"
    xmlns:ff="sap.ui.layout.form"   
    xmlns:core="sap.ui.core"
    xmlns:main="sap.ui.webc.main">
	<Page id="PartnersDetail" showHeader="false">

        <smartForm:SmartForm id="smartForm" title="{oModel>/name}">
            <smartForm:customToolbar>
                <Toolbar style="Clear">
                    <ToolbarSpacer/>
                    <Button type="Transparent" icon="sap-icon://undo" press="navBack"/>
                </Toolbar>
            </smartForm:customToolbar>
             <smartForm:Group>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Nome socio" value="{NOME_SOCIO}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Código do socio" value="{COD_SOCIO}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="CPF" value="{CPF}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="RG" value="{RG}"/>
                </smartForm:GroupElement>
            </smartForm:Group>
            <smartForm:Group>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Nome Fornecedor" value="{NOME_FORNECEDOR}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Código do fornecedor" value="{FORNECEDOR}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Função do parceiro" value="{FUNC_PARCEIRO}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Descrição do parceiro" value="{DESC_PARCEIRO}"/>
                </smartForm:GroupElement>
            </smartForm:Group>
            <smartForm:Group>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Criado em" value="{createdAt}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Criado por" value="{createdBy}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Modificado em" value="{modifiedAt}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Modificado por" value="{modifiedBy}"/>
                </smartForm:GroupElement>
            </smartForm:Group>
        </smartForm:SmartForm>
        
        <content>
            <VBox class="sapUiSmallMarginTop">
                <smartFilterBar:SmartFilterBar id="smartFilterBar" entitySet="CaixasContratadas" class="customBorder" visible="false">
                    <smartFilterBar:controlConfiguration>
                        <smartFilterBar:ControlConfiguration key="FORNECEDOR"  visibleInAdvancedArea="false">
                            <smartFilterBar:defaultFilterValues>
                                <smartFilterBar:SelectOption id="smartFilterData" low="{oModel>/supplier}"/>
                            </smartFilterBar:defaultFilterValues>
                        </smartFilterBar:ControlConfiguration>
                    </smartFilterBar:controlConfiguration>    
                    <smartFilterBar:layoutData>
                        <FlexItemData shrinkFactor="0"/>
                    </smartFilterBar:layoutData>
                </smartFilterBar:SmartFilterBar>

                <smartTable:SmartTable 
                    backgroundDesign="Translucent"
                    id="SmartTable" 
                    entitySet="CaixasContratadas" 
                    smartFilterId="smartFilterBar" 
                    header="Propostas do fornecedor {oModel>/supplier}" 
                    noData="Para começar, defina os filtros relevantes."
                    tableType="ResponsiveTable"
                    enableAutoBinding="true"
                    alignContent="Center"
                    class="sapUiResponsiveContentPadding" 
                    initiallyVisibleFields="PROPOSTA,SAFRA,CONTRATO,MOEDA,FORNECEDOR,NOME_FORN,TIPO_FORN,VARIEDADE"
                    >
                    <smartTable:layoutData>
                        <FlexItemData growFactor="2" baseSize="0%"/>
                    </smartTable:layoutData>
                    <Table id="oTable" selectionChange="handleSelectionChange" noDataText="Nenhuma proposta para esse fornecedor."
                    mode="SingleSelectMaster"/>
                </smartTable:SmartTable>
            </VBox>
        </content>

    </Page>
</mvc:View>