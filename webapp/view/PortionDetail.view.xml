<mvc:View
    controllerName="com.lab2dev.citrosuco.controller.PortionDetail"
	height="100%"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    xmlns:t="sap.ui.table"
    xmlns="sap.m"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
	xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:smartForm="sap.ui.comp.smartform"
	xmlns:smartField="sap.ui.comp.smartfield"
    xmlns:core="sap.ui.core"
    xmlns:main="sap.ui.webc.main">
	<Page id="EventDetail" showHeader="false">

        <smartForm:SmartForm id="smartForm" title="Evento Parcelas" expandable="true" expanded="true" class="sapUiSmallMargin">
            <smartForm:customToolbar>
                <Toolbar style="Clear">
                    <ToolbarSpacer/>
                    <Button type="Transparent" icon="sap-icon://undo" press="navBack"/>
                </Toolbar>
            </smartForm:customToolbar>
             <smartForm:Group>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Nº da proposta" value="{Proposta}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Nº da safra" value="{Safra}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Nº do contrato" value="{Contrato}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Data da parcela" value="{DtParcela}"/>
                </smartForm:GroupElement>
            </smartForm:Group>
            <smartForm:Group>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Evento" value="{Evento}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Descrição do evento" value="{DescEvento}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Valor da caixa" value="{VlrCaixa}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Valor de caixa acumulado" value="{VlrCxAcumul}"/>
                </smartForm:GroupElement>
            </smartForm:Group>
            <smartForm:Group>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Bloqueado" value="{Bloqueado}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Valor acumulado" value="{VlrAcumul}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Nº do recebedor" value="{Recebedor}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Nome do recebedor" value="{NomeRecebedor}"/>
                </smartForm:GroupElement>
            </smartForm:Group>
            <smartForm:Group>
             <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Forma de pagamento" value="{FormaPgto}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Banco/Agência" value="{BangoAgencia}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Conta bancária" value="{ContaBancaria}"/>
                </smartForm:GroupElement>
                <smartForm:GroupElement>
                    <smartField:SmartField textLabel="Dig. Conta/Agência" value="{DigContaAg}"/>
                </smartForm:GroupElement>
            </smartForm:Group>
        </smartForm:SmartForm>
        
        <content>
            <VBox class="sapUiSmallMarginTop">
                <smartFilterBar:SmartFilterBar id="smartFilterBar" entitySet="CxsContrGet" class="customBorder" visible="false">
                    <smartFilterBar:controlConfiguration>
                        <smartFilterBar:ControlConfiguration key="Proposta"  visibleInAdvancedArea="false">
                            <smartFilterBar:defaultFilterValues>
                                <smartFilterBar:SelectOption id="smartFilterData" low="{oModel>/supplier}"/>
                            </smartFilterBar:defaultFilterValues>
                        </smartFilterBar:ControlConfiguration>
                    </smartFilterBar:controlConfiguration>    
                    <smartFilterBar:layoutData>
                        <FlexItemData shrinkFactor="0"/>
                    </smartFilterBar:layoutData>
                </smartFilterBar:SmartFilterBar>

                <smartTable:SmartTable 
                    backgroundDesign="Solid"
                    showFullScreenButton="true"
                    id="SmartTable" 
                    entitySet="CxsContrGet" 
                    smartFilterId="smartFilterBar" 
                    header="Caixas Contratadas com a proposta {oModel>/supplier}"
                    tableType="Table"
                    class="sapUiResponsiveContentPadding" 
                    initiallyVisibleFields="Proposta,Safra,Contrato,Moeda,Fornecedor,NomeForn,TipoForn,Variedade,Grupo,Imovel"
                    >
                    <smartTable:layoutData>
                        <FlexItemData growFactor="2" baseSize="0%"/>
                    </smartTable:layoutData>
                    <t:Table id="oTable"
                    selectionMode="Single" />
                </smartTable:SmartTable>
            </VBox>
        </content>

    </Page>
</mvc:View>